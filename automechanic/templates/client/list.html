{% extends "layout/template.html" %}

{% block head %}
<script type="text/javascript">
	$(document).ready(function() {
		$('#btn_new').on('click', function(){
			location.href = "{% url 'client.add' %}";
		});
		
		
		oTable = $("#client-datatable").dataTable({

    		"sPaginationType": "bootstrap",
    		"aaSorting": [[ 1, "asc" ]],
    		"aoColumnDefs": [{ "bSortable": false, "aTargets": [ 0,5] }],
    		"oLanguage": lang_datatable
    	});
	});  
</script>
{% endblock %}

{% block content %}
<div class="row-fluid">
	    <div class="row-fluid">
		    <div class="buttons btn-group pull-right">
				<button id="btn_new" class="btn"><i class="icon-plus"></i></button>
				<button id="btn_del" class="btn"><i class="icon-trash"></i></button>
			</div>
		</div>
	    <div class="row-fluid top1">
			<table id="client-datatable" class="table table-striped table-bordered table-hover table-condensed">
			
				<col width="1%" />
				<col width="45%" />
				<col width="20%" />
				<col width="13%" />
				<col width="20%" />			
				<col width="1%" />			
				<thead>
					<tr>
						<th><input id="checkAll" type="checkbox" /></th>					
						<th>Nome</th>															
						<th>Apelido</th>
						<th>Data de Nascimento</th>
						<th>CPF</th>							
						<th>&nbsp;</th>					
					</tr>
				</thead>
				<tbody>
				{% for client in clients %}
					<tr>
						<td><input id="checkAll" type="checkbox"  value="{{ client.id}}"/></td>					
						<td>{{ client.name }}</td>															
						<td>{{ client.nickname }}</td>
						<td>{{ client.date_of_birth|date:"d/m/y" }}</td>
						<td>{{ client.cpf }}</td>							
						<td><a id="edit" href="{% url 'client.edit' client.id %}"><i class="icon-edit"></i></a></td>					
					</tr>
				{% endfor %}
				</tbody>
			</table>
			<form id="delete_form" method="post" action="" style="visibility: hidden;">
				{% csrf_token %}			
				{{form}}
			</form>
	    </div>
    </div>
{% endblock %}